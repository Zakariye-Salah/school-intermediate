/* games.css ‚Äî responsive header, action buttons fit mobile
   Replace your existing games.css with this file.
   Key changes:
   - actions-row will wrap and shrink nicely
   - buttons reduce padding + font-size on small screens
   - icon-only mode for very small screens (uses ::before icons for known IDs)
   - keeps keyboard focus and accessibility in mind
*/

:root{
  --card-bg: #fff;
  --muted: #6b7280;
  --primary: #2563eb;
  --surface: #f8fafc;
  --shadow: 0 0.6rem 2.2rem rgba(14,30,63,0.06);
  --radius: 0.75rem;
  --gap: 0.75rem;
  --fs-base: 1rem; /* 16px */
  --header-height: 4.25rem; /* comfortable header height */
  --header-pad: 0.6rem;
  --action-gap: 0.5rem;
  --mobile-break: 48rem; /* 768px */
}

/* base page */
html,body{
  height:100%;
  margin:0;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  background:var(--surface);
  color:#07122b;
  font-size:var(--fs-base);
  line-height:1.3;
  box-sizing:border-box;
}
*,*::before,*::after{ box-sizing:inherit; }

.container { max-width:68.75rem; /* 1100px */ margin:1.125rem auto; padding:0 0.75rem; }

/* Header ‚Äî reworked for responsiveness */
header {
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:var(--gap);
  margin-bottom:0.75rem;
  padding:calc(var(--header-pad) * 0.4) calc(var(--header-pad) * 0.6);
  min-height:var(--header-height);
  background:linear-gradient(90deg, rgba(37,99,235,0.06), rgba(37,99,235,0.02));
  border-radius:0.85rem;
  box-shadow: var(--shadow);
  flex-wrap:wrap;
}

/* left block (title + subtitle) uses min-width 0 so ellipsis works */
header > div:first-child{ display:flex; flex-direction:column; min-width:0; gap:0.18rem; }
.title { font-weight:800; font-size:clamp(1rem, 1.7vw, 1.125rem); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.small-muted { color:var(--muted); font-size:0.875rem; }

/* actions area */
.actions-row {
  display:flex;
  gap:var(--action-gap);
  align-items:center;
  flex:0 0 auto;
  /* allow the actions to move to next line when needed */
  flex-wrap:wrap;
  justify-content:flex-end;
  align-self:stretch; /* allow alignment when header wraps */
  max-width:60%; /* keep title area breathing on desktop */
}

/* On very narrow layouts allow actions row to be full-width so they can wrap under title */
@media (max-width: 56rem) {
  .actions-row{ max-width:100%; }
}

/* make the actions row horizontally scrollable on tiny screens if overflowed */
.actions-row{ overflow:auto; -webkit-overflow-scrolling:touch; }
.actions-row::-webkit-scrollbar{ display:none; }

/* search */
.search { display:flex; align-items:center; gap:0.45rem; }
.search input {
  padding:0.5rem 0.6rem;
  border-radius:0.6rem;
  border:1px solid #e6eefc;
  font-size:0.95rem;
  width:14rem;
  transition:width .22s ease, opacity .18s ease;
  background:#fff;
}
#enterCodeInput::placeholder{ color: #9aa4bf; }

/* small compact search on mobile: keep input but allow it to be focused-opened */
#codeSearchBtn{ display:inline-flex; align-items:center; justify-content:center; padding:0.48rem 0.7rem; border-radius:0.6rem; cursor:pointer; border:0; background:transparent; font-size:0.95rem; }

/* generic buttons */
.btn {
  padding:0.56rem 0.75rem;
  border-radius:0.6rem;
  cursor:pointer;
  border:0;
  background:transparent;
  font-size:0.95rem;
  min-height:2.4rem;
  display:inline-flex;
  align-items:center;
  gap:0.45rem;
  white-space:nowrap;
  flex:0 0 auto; /* don't stretch by default */
  transition: padding .12s ease, font-size .12s ease, min-width .12s ease;
}
.btn-primary { background:var(--primary); color:#fff; box-shadow:0 6px 18px rgba(37,99,235,0.08); }
.btn-ghost { border:1px solid #e6eefc; background:transparent; }

/* allow buttons to shrink a little on smaller widths */
.btn { min-width: 2.4rem; }
.btn.small { padding:0.4rem 0.5rem; font-size:0.9rem; }

/* quick stat style */
.stat { background:var(--card-bg); padding:0.5rem 0.6rem; border-radius:0.6rem; box-shadow:var(--shadow); font-weight:700; font-size:0.95rem; }

/* List and cards */
.list { margin-top:0.75rem; display:flex; flex-direction:column; gap:0.6rem; }

.game-card { display:flex; justify-content:space-between; align-items:center; background:var(--card-bg); padding:0.7rem; border-radius:0.8rem; box-shadow:var(--shadow); gap:0.6rem; min-height:3.25rem; }
.game-left { display:flex; gap:0.7rem; align-items:center; min-width:0; overflow:hidden; }
.avatar { width:2.75rem; height:2.75rem; border-radius:50%; background:#eef6ff; display:inline-flex; align-items:center; justify-content:center; font-weight:700; color:#07122b; flex:0 0 auto; overflow:hidden; }
.avatar img { width:100%; height:100%; object-fit:cover; display:block; }
.avatar.frame-1 { border:0.15rem solid #FFD700; }
.game-meta { display:flex; flex-direction:column; gap:0.15rem; min-width:0; overflow:hidden; }
.game-title { font-weight:800; font-size:0.95rem; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.game-sub { color:var(--muted); font-size:0.85rem; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

.game-right { display:flex; gap:0.4rem; align-items:center; flex:0 0 auto; }
.tag { padding:0.28rem 0.45rem; border-radius:0.55rem; font-weight:700; font-size:0.8rem; }
.tag.public { background:linear-gradient(180deg,#ecf9ff,#e6f2ff); color:#0b74ff; }
.tag.private { background:linear-gradient(180deg,#fff7ec,#fff3de); color:#b35d00; }

/* modal & match pane: ensure fit on small screens */
.modal { position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(2,6,23,0.45); z-index:2000; padding:1rem; }
.modal-card { width:46rem; max-width:100%; max-height:92vh; overflow:auto; background:var(--card-bg); padding:1rem; border-radius:1rem; box-shadow:0 1.8rem 4.8rem rgba(2,6,23,0.28); }
.modal-head { display:flex; justify-content:space-between; align-items:center; margin-bottom:0.5rem; }
.modal-body { font-size:0.95rem; color:#0b1220; }

.match-pane { position:fixed; inset:6vh 6vw 6vh 6vw; background:var(--card-bg); border-radius:1rem; box-shadow:0 4rem 8rem rgba(2,6,23,0.48); z-index:3000; display:flex; flex-direction:column; overflow:hidden; }
.match-top { display:flex; justify-content:space-between; align-items:center; padding:0.6rem 0.8rem; border-bottom:1px solid #eef2f6; }
.match-body { display:flex; flex-direction:column; flex:1; padding:0.8rem; gap:0.6rem; overflow:auto; }
.question-card { background:#fbfdff; padding:0.6rem; border-radius:0.6rem; font-size:1.05rem; }
.choices { display:flex; flex-direction:column; gap:0.45rem; }
.choice { padding:0.55rem; border-radius:0.6rem; border:1px solid #eef2f6; cursor:pointer; display:flex; justify-content:space-between; align-items:center; background:transparent; }
.choice.correct { background:#ecfdf5; border-color:#bbf7d0; }
.choice.wrong { background:#fff1f2; border-color:#fecaca; }

.timer { font-weight:800; font-size:1.05rem; color:#0b1220; }

/* responsive tweaks */
@media (max-width: var(--mobile-break)){
  .container{ padding:0 0.6rem }
  .avatar{ width:2.25rem; height:2.25rem }
  .modal-card{ width:95% }
  .match-pane{ inset:5vh 3vw 5vh 3vw }

  /* make header compact: actions move to second line if needed */
  header { padding:0.5rem; }
  header > div:first-child { width:100%; }

  /* shrink stats row on mobile to wrap */
  .stats-row{ display:flex; gap:0.5rem; flex-wrap:wrap; margin-top:0.6rem }

  /* reduce actions gap and allow wrapping to keep buttons visible */
  .actions-row { gap:0.35rem; align-items:center; }

  /* reduce search input dominance */
  .search input {
    width:10rem;
    font-size:0.92rem;
    padding:0.45rem 0.5rem;
  }

  /* make the search button compact */
  #codeSearchBtn{ min-width:2.6rem; padding:0.44rem; border-radius:0.6rem; }

  /* make .actions-row wrap nicely ‚Äî push actions to a new line when needed */
  .actions-row{ width:100%; justify-content:flex-end; gap:0.4rem; }

  /* enlarge tap targets slightly */
  .btn, .stat { padding:0.56rem 0.7rem; min-height:2.6rem; }

  /* game card spacing reduced slightly */
  .game-card{ padding:0.6rem; }
}

/* extra-small screens: compress labels but keep icons */
@media (max-width: 420px){
  /* tighten header height */
  :root{ --header-height:4rem; }

  /* make action buttons smaller and icon-friendly */
  .btn {
    padding:0.44rem;
    min-width:2.6rem;
    font-size:0.88rem;
    gap:0.28rem;
  }

  /* hide long label text visually by setting font-size:0 on buttons,
     but show an icon via ::before. This keeps the original text in the DOM
     for accessibility/readers while improving layout on very small screens. */
  .actions-row .btn {
    /* visually compress text */
    font-size:0;              /* hides textual content visually */
    line-height:1;
    height:auto;
    padding:0.44rem 0.5rem;
    display:inline-flex;
    align-items:center;
    justify-content:center;
  }

  /* set icons for known buttons (IDs in your HTML) */
  #codeSearchBtn::before{ content: 'üîç'; font-size:1.05rem; display:inline-block; }
  #filterStudentsBtn::before{ content: 'üë©\u200Düéì'; font-size:1.05rem; display:inline-block; }
  #filterBotsBtn::before{ content: 'ü§ñ'; font-size:1.05rem; display:inline-block; }
  #settingsBtn::before{ content: '‚öô'; font-size:1.05rem; display:inline-block; }
  #newGameBtn::before{ content: '‚ûï'; font-size:1.05rem; display:inline-block; }

  /* small styling to position ::before */
  .actions-row .btn::before{
    display:inline-block;
    vertical-align:middle;
    color:inherit;
  }

  /* keep focus ring visible for keyboard users */
  .btn:focus{ outline:3px solid rgba(37,99,235,0.12); }

  /* small font for titles/subtitle */
  .title{ font-size:1rem; }
  .small-muted{ font-size:0.78rem; }
}

/* ultra-small phones: switch to a wrapped layout and allow horizontal scroll on actions */
@media (max-width: 340px){
  .actions-row { overflow-x:auto; -webkit-overflow-scrolling:touch; gap:0.28rem; padding-bottom:0.15rem; }
  .actions-row .btn{ padding:0.36rem; min-width:2.4rem; }
}

/* keyboard / focus accessibility improvements */
.search input:focus{
  outline:2px solid rgba(37,99,235,0.14);
  box-shadow:0 6px 18px rgba(37,99,235,0.06);
  opacity:1;
  pointer-events:auto;
  width:12rem;
}
.btn:focus{ outline-offset:2px; }

/* utility: hidden class used in the markup */
.hidden{ display:none !important; }

/* end of file */
